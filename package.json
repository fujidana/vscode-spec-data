{
	"publisher": "fujidana",
	"name": "spec-data",
	"displayName": "spec data",
	"description": "spec data file support for VS Code",
	"version": "1.2.1",
	"engines": {
		"vscode": "^1.59.0"
	},
	"categories": [
		"Programming Languages",
		"Visualization"
	],
	"keywords": [
		"X-ray diffraction",
		"synchrotron",
		"instrument control",
		"data acquisition"
	],
	"icon": "resources/icon.png",
	"license": "SEE LICENSE IN LICENSE",
	"bugs": {
		"url": "https://github.com/fujidana/vscode-spec-data/issues"
	},
	"repository": {
		"type": "git",
		"url": "https://github.com/fujidana/vscode-spec-data.git"
	},
	"homepage": "https://github.com/fujidana/vscode-spec-data#readme",
	"activationEvents": [
		"onLanguage:spec-data",
		"onLanguage:chiplot",
		"onWebviewPanel:specDataPreview",
		"onCommand:spec-data.showPreview",
		"onCommand:spec-data.showPreviewToSide",
		"onCommand:spec-data.showLockedPreview",
		"onCommand:spec-data.showLockedPreviewToSide"
	],
	"main": "./dist/extension-node.js",
	"browser": "./dist/extension-web.js",
	"contributes": {
		"languages": [
			{
				"id": "spec-data",
				"aliases": [
					"spec data",
					"spec Standard Data Format",
					"spec scan"
				],
				"extensions": [
					".spec"
				]
			},
			{
				"id": "chiplot",
				"aliases": [
					"chiplot"
				],
				"extensions": [
					".chi"
				]
			}
		],
		"grammars": [
			{
				"language": "spec-data",
				"scopeName": "source.spec-data",
				"path": "./syntaxes/specData.tmLanguage.json"
			},
			{
				"language": "chiplot",
				"scopeName": "source.chiplot",
				"path": "./syntaxes/chiplot.tmLanguage.json"
			}
		],
		"commands": [
			{
				"command": "spec-data.showPreview",
				"title": "Open Preview",
				"category": "spec data",
				"icon": "$(preview)"
			},
			{
				"command": "spec-data.showPreviewToSide",
				"title": "Open Preview to the Side",
				"category": "spec data",
				"icon": "$(open-preview)"
			},
			{
				"command": "spec-data.showLockedPreview",
				"title": "Open Locked Preview",
				"category": "spec data"
			},
			{
				"command": "spec-data.showLockedPreviewToSide",
				"title": "Open Locked Preview to the Side",
				"category": "spec data"
			},
			{
				"command": "spec-data.showSource",
				"title": "Show Source",
				"category": "spec data",
				"icon": "$(go-to-file)"
			},
			{
				"command": "spec-data.refreshPreview",
				"title": "Refresh Preview",
				"category": "spec data",
				"icon": "$(refresh)"
			},
			{
				"command": "spec-data.togglePreviewLock",
				"title": "Toggle Preview Locking",
				"category": "spec data",
				"icon": "$(lock)"
			}
		],
		"menus": {
			"explorer/context": [
				{
					"command": "spec-data.showPreview",
					"when": "resourceLangId =~ /^(spec-data|chiplot)$/",
					"group": "navigation"
				},
				{
					"command": "spec-data.showLockedPreview",
					"when": "resourceLangId =~ /^(spec-data|chiplot)$/",
					"group": "navigation"
				}
			],
			"editor/title": [
				{
					"command": "spec-data.showPreviewToSide",
					"alt": "spec-data.showPreview",
					"when": "editorLangId =~ /^(spec-data|chiplot)$/",
					"group": "navigation"
				},
				{
					"command": "spec-data.showLockedPreviewToSide",
					"alt": "spec-data.showLockedPreview",
					"when": "editorLangId =~ /^(spec-data|chiplot)$/",
					"group": "2_specdata"
				},
				{
					"command": "spec-data.showSource",
					"group": "navigation",
					"when": "resourceScheme == webview-panel && spec-data.previewEditorActive"
				},
				{
					"command": "spec-data.refreshPreview",
					"group": "2_specdata",
					"when": "resourceScheme == webview-panel && spec-data.previewEditorActive"
				},
				{
					"command": "spec-data.togglePreviewLock",
					"group": "2_specdata",
					"when": "resourceScheme == webview-panel && spec-data.previewEditorActive"
				}
			],
			"editor/title/context": [
				{
					"command": "spec-data.showPreview",
					"when": "editorLangId =~ /^(spec-data|chiplot)$/",
					"group": "3_preview"
				}
			],
			"commandPalette": [
				{
					"command": "spec-data.showPreview",
					"when": "editorLangId =~ /^(spec-data|chiplot)$/"
				},
				{
					"command": "spec-data.showPreviewToSide",
					"when": "editorLangId =~ /^(spec-data|chiplot)$/"
				},
				{
					"command": "spec-data.showLockedPreview",
					"when": "editorLangId =~ /^(spec-data|chiplot)$/"
				},
				{
					"command": "spec-data.showLockedPreviewToSide",
					"when": "editorLangId =~ /^(spec-data|chiplot)$/"
				},
				{
					"command": "spec-data.showSource",
					"when": "resourceScheme == webview-panel && spec-data.previewEditorActive"
				},
				{
					"command": "spec-data.refreshPreview",
					"when": "resourceScheme == webview-panel && spec-data.previewEditorActive"
				},
				{
					"command": "spec-data.togglePreviewLock",
					"when": "resourceScheme == webview-panel && spec-data.previewEditorActive"
				}
			]
		},
		"keybindings": [
			{
				"command": "spec-data.showPreview",
				"key": "ctrl+shift+v",
				"mac": "cmd+shift+v",
				"when": "!notebookEditorFocused && editorLangId =~ /^(spec-data|chiplot)/"
			},
			{
				"command": "spec-data.showPreviewToSide",
				"key": "ctrl+k v",
				"mac": "cmd+k v",
				"when": "!notebookEditorFocused && editorLangId =~ /^(spec-data|chiplot)/"
			}
		],
		"configuration": {
			"title": "spec data",
			"properties": {
				"spec-data.preview.scrollPreviewWithEditor": {
					"type": "boolean",
					"default": true,
					"description": "Synchronizes page scroll of a preview with that of the corresoinding editor."
				},
				"spec-data.preview.retainContextWhenHidden": {
					"type": "boolean",
					"default": false,
					"description": "Controls whether preview contents remain in memory when the preview tab is hidden. Enabling this option potentially requires high memory overhead. A change in this option does not affect previews already open."
				},
				"spec-data.preview.applyContentSecurityPolicy": {
					"type": "boolean",
					"default": true,
					"description": "Applies a content security policy (CSP) to a preview, which enhances security against cross site scripting and data injection attacks caused by malicious source files. One may be able to avoid several Plotly.js errors when the option is disabled. In a future release, a CSP may be always active and this option may be removed."
				},
				"spec-data.preview.plot.maximumNumberOfPlots": {
					"type": "integer",
					"default": 25,
					"minimum": 0,
					"description": "Maximum number of graphs to be drawn when a preview is opened. Drawing a large number of plots requires both long time and vast memory footprint."
				},
				"spec-data.preview.plot.height": {
					"type": "number",
					"default": 400,
					"minimum": 200,
					"description": "Height of the respective graphs."
				},
				"spec-data.preview.plot.template": {
					"type": "object",
					"properties": {
						"all": {
							"type": "object",
							"properties": {
								"data": {
									"type": "array"
								},
								"layout": {
									"type": "object"
								}
							},
							"additionalProperties": false
						},
						"light": {
							"type": "object",
							"properties": {
								"data": {
									"type": "array"
								},
								"layout": {
									"type": "object"
								}
							},
							"additionalProperties": false
						},
						"dark": {
							"type": "object",
							"properties": {
								"data": {
									"type": "array"
								},
								"layout": {
									"type": "object"
								}
							},
							"additionalProperties": false
						},
						"highContrast": {
							"type": "object",
							"properties": {
								"data": {
									"type": "array"
								},
								"layout": {
									"type": "object"
								}
							},
							"additionalProperties": false
						}
					},
					"markdownDescription": "Overrides the built-in plot appearance such as line color. The key of this setting object is either `\"all\"`, `\"light\"`, `\"dark\"`, or `\"highContrast\"`, and the value is a Plotly.js template object for the color theme the corresponding key represents. See the _Extension Settings_ section in README.md. One can find the complete list of the template attributes in the [Plotly.js Reference](https://plotly.com/javascript/reference/index/) page.",
					"additionalProperties": false
				},
				"spec-data.preview.table.hide": {
					"type": "boolean",
					"default": true,
					"description": "Hides motor-position tables in a preview when a preview is opened."
				},
				"spec-data.preview.table.columnsPerLine": {
					"type": "number",
					"default": 8,
					"minimum": 1,
					"description": "Maximum column number of motor-potision tables. Overflowed columns are folded in the next row."
				},
				"spec-data.preview.table.headerType": {
					"type": "string",
					"default": "Mnemonic",
					"enum": [
						"Name",
						"Mnemonic",
						"None"
					],
					"description": "Header type of data cells of motor-potision tables."
				}
			}
		}
	},
	"capabilities": {
		"virtualWorkspaces": true,
		"untrustedWorkspaces": {
			"supported": "limited",
			"description": "In untrusted workspaces, the content security policy is forcibly applied to the preview and Plotlytemplates in workspace settings are ignored.",
			"restrictedConfigurations": [
				"spec-data.preview.plot.template",
				"spec-data.preview.applyContentSecurityPolicy"
			]
		}
	},
	"scripts": {
		"vscode:prepublish": "npm run package && npm run js-yaml",
		"compile": "webpack",
		"watch": "webpack --watch",
		"test": "npm run compile && npm run test-node && npm run test-web",
		"test-node": "node ./dist/test/runTest.js",
		"test-web": "vscode-test-web --browserType=chromium --extensionDevelopmentPath=. --extensionTestsPath=./dist/test/suite/index-web",
		"package": "webpack --mode production --devtool hidden-source-map",
		"lint": "eslint src --ext ts",
		"js-yaml": "js-yaml ./src/specData.tmLanguage.yaml > ./syntaxes/specData.tmLanguage.json && js-yaml ./src/chiplot.tmLanguage.yaml > ./syntaxes/chiplot.tmLanguage.json"
	},
	"devDependencies": {
		"@types/glob": "^7.1.3",
		"@types/lodash.merge": "^4.6.6",
		"@types/mocha": "^8.2.2",
		"@types/node": "14.x",
		"@types/vscode": "^1.59.0",
		"@types/vscode-webview": "^1.57.0",
		"@types/webpack-env": "^1.16.2",
		"@typescript-eslint/eslint-plugin": "^4.26.0",
		"@typescript-eslint/parser": "^4.26.0",
		"@vscode/test-electron": "^1.6.2",
		"@vscode/test-web": "^0.0.8",
		"assert": "^2.0.0",
		"eslint": "^7.27.0",
		"glob": "^7.1.7",
		"js-yaml": "^4.1.0",
		"mocha": "^8.4.0",
		"process": "^0.11.10",
		"ts-loader": "^9.2.2",
		"typescript": "^4.3.2",
		"webpack": "^5.38.1",
		"webpack-cli": "^4.7.0"
	},
	"dependencies": {
		"lodash.merge": "^4.6.2",
		"minimatch": "^3.0.4",
		"plotly.js-basic-dist-min": "^2.3.1"
	}
}
