{
	"publisher": "fujidana",
	"name": "spec-data",
	"displayName": "spec data",
	"description": "Language support for CSS scan data files (Standard Data File Format)",
	"version": "1.1.0-alpha.20210722",
	"engines": {
		"vscode": "^1.57.0"
	},
	"categories": [
		"Programming Languages",
		"Visualization"
	],
	"keywords": [
		"X-ray diffraction",
		"synchrotron",
		"instrument control",
		"data acquisition"
	],
	"icon": "resources/icon.png",
	"license": "SEE LICENSE IN LICENSE",
	"bugs": {
		"url": "https://github.com/fujidana/vscode-spec-data/issues"
	},
	"repository": {
		"type": "git",
		"url": "https://github.com/fujidana/vscode-spec-data.git"
	},
	"homepage": "https://github.com/fujidana/vscode-spec-data#readme",
	"activationEvents": [
		"onLanguage:spec-data",
		"onLanguage:chiplot",
		"onWebviewPanel:specDataPreview"
	],
	"main": "./out/extension.js",
	"contributes": {
		"languages": [
			{
				"id": "spec-data",
				"aliases": [
					"spec data",
					"spec Standard Data Format",
					"spec scan"
				],
				"extensions": [
					".spec"
				]
			},
			{
				"id": "chiplot",
				"aliases": [
					"chi plot"
				],
				"extensions": [
					".chi"
				]
			}
		],
		"grammars": [
			{
				"language": "spec-data",
				"scopeName": "source.spec-data",
				"path": "./syntaxes/specData.tmLanguage.json"
			}
		],
		"commands": [
			{
				"command": "spec-data.showPreview",
				"title": "Open Preview",
				"category": "spec data",
				"icon": "$(preview)"
			},
			{
				"command": "spec-data.showPreviewToSide",
				"title": "Open Preview to the Side",
				"category": "spec data",
				"icon": "$(open-preview)"
			},
			{
				"command": "spec-data.showLockedPreview",
				"title": "Open Locked Preview",
				"category": "spec data"
			},
			{
				"command": "spec-data.showLockedPreviewToSide",
				"title": "Open Locked Preview to the Side",
				"category": "spec data"
			},
			{
				"command": "spec-data.showSource",
				"title": "Show Source",
				"category": "spec data",
				"icon": "$(go-to-file)"
			},
			{
				"command": "spec-data.refreshPreview",
				"title": "Refresh Preview",
				"category": "spec data",
				"icon": "$(refresh)"
			},
			{
				"command": "spec-data.togglePreviewLock",
				"title": "Toggle Preview Locking",
				"category": "spec data",
				"icon": "$(lock)"
			}
		],
		"menus": {
			"explorer/context": [
				{
					"command": "spec-data.showPreview",
					"when": "isWorkspaceTrusted && resourceLangId =~ /^(spec-data|chiplot)$/",
					"group": "navigation"
				},
				{
					"command": "spec-data.showLockedPreview",
					"when": "isWorkspaceTrusted && resourceLangId =~ /^(spec-data|chiplot)$/",
					"group": "navigation"
				}
			],
			"editor/title": [
				{
					"command": "spec-data.showPreviewToSide",
					"alt": "spec-data.showPreview",
					"when": "isWorkspaceTrusted && editorLangId =~ /^(spec-data|chiplot)$/",
					"group": "navigation"
				},
				{
					"command": "spec-data.showLockedPreviewToSide",
					"alt": "spec-data.showLockedPreview",
					"when": "isWorkspaceTrusted && editorLangId  =~ /^(spec-data|chiplot)$/",
					"group": "2_specdata"
				},
				{
					"command": "spec-data.showSource",
					"group": "navigation",
					"when": "isWorkspaceTrusted && resourceScheme == webview-panel && spec-data.previewEditorActive"
				},
				{
					"command": "spec-data.refreshPreview",
					"group": "2_specdata",
					"when": "isWorkspaceTrusted && resourceScheme == webview-panel && spec-data.previewEditorActive"
				},
				{
					"command": "spec-data.togglePreviewLock",
					"group": "2_specdata",
					"when": "isWorkspaceTrusted && resourceScheme == webview-panel && spec-data.previewEditorActive"
				}
			],
			"editor/title/context": [
				{
					"command": "spec-data.showPreview",
					"when": "isWorkspaceTrusted && editorLangId =~ /^(spec-data|chiplot)$/",
					"group": "3_preview"
				}
			],
			"commandPalette": [
				{
					"command": "spec-data.showPreview",
					"when": "isWorkspaceTrusted && editorLangId =~ /^(spec-data|chiplot)$/"
				},
				{
					"command": "spec-data.showPreviewToSide",
					"when": "isWorkspaceTrusted && editorLangId =~ /^(spec-data|chiplot)$/"
				},
				{
					"command": "spec-data.showLockedPreview",
					"when": "isWorkspaceTrusted && editorLangId =~ /^(spec-data|chiplot)$/"
				},
				{
					"command": "spec-data.showLockedPreviewToSide",
					"when": "isWorkspaceTrusted && editorLangId =~ /^(spec-data|chiplot)$/"
				},
				{
					"command": "spec-data.showSource",
					"when": "isWorkspaceTrusted && resourceScheme == webview-panel && spec-data.previewEditorActive"
				},
				{
					"command": "spec-data.refreshPreview",
					"when": "isWorkspaceTrusted && resourceScheme == webview-panel && spec-data.previewEditorActive"
				},
				{
					"command": "spec-data.togglePreviewLock",
					"when": "isWorkspaceTrusted && resourceScheme == webview-panel && spec-data.previewEditorActive"
				}
			]
		},
		"keybindings": [
			{
				"command": "spec-data.showPreview",
				"key": "ctrl+shift+v",
				"mac": "cmd+shift+v",
				"when": "isWorkspaceTrusted && !notebookEditorFocused && editorLangId == 'spec-data'"
			},
			{
				"command": "spec-data.showPreviewToSide",
				"key": "ctrl+k v",
				"mac": "cmd+k v",
				"when": "isWorkspaceTrusted && !notebookEditorFocused && editorLangId == 'spec-data'"
			}
		],
		"configuration": {
			"title": "spec data",
			"properties": {
				"spec-data.preview.scrollPreviewWithEditor": {
					"type": "boolean",
					"default": true,
					"description": "Synchronizes page scroll of a preview with that of the corresoinding editor."
				},
				"spec-data.preview.retainContextWhenHidden": {
					"type": "boolean",
					"default": false,
					"description": "Controls whether preview contents remain in memory when the preview tab is hidden. Enabling this option potentially requires high memory overhead. A change in this option does not affect previews already open."
				},
				"spec-data.preview.applyContentSecurityPolicy": {
					"type": "boolean",
					"default": true,
					"description": "Applies a content security policy (CSP) to a preview, which enhances security against cross site scripting and data injection attacks caused by malicious source files. One may be able to avoid several Plotly.js errors when the option is disabled. In a future release, a CSP may be always active and this option may be removed."
				},
				"spec-data.preview.plot.maximumNumberOfPlots": {
					"type": "number",
					"default": 25,
					"minimum": 0,
					"description": "Maximum number of graphs to be drawn when a preview is opened. Drawing a large number of plots requires both long time and vast memory footprint."
				},
				"spec-data.preview.plot.height": {
					"type": "number",
					"default": 400,
					"minimum": 200,
					"description": "Height of the respective graphs."
				},
				"spec-data.preview.plot.template": {
					"type": "object",
					"default": {
						"all": {
							"data": [],
							"layout": {}
						}
					},
					"markdownDescription": "Overrides the built-in plot appearance such as line color. The option has at most 4 keys: `\"all\"`, `\"light\"`, `\"dark\"`, and `\"highContrast\"`. The value of each key shall be the JSON represenation of a Plotly.js template. \n\nSee the _Extension Settings_ section in README.md. One can find the complete list of the template attributes in the [Plotly.js Reference](https://plotly.com/javascript/reference/index/) page."
				},
				"spec-data.preview.table.hide": {
					"type": "boolean",
					"default": true,
					"description": "Hides motor-position tables in a preview when a preview is opened."
				},
				"spec-data.preview.table.columnsPerLine": {
					"type": "number",
					"default": 8,
					"minimum": 1,
					"description": "Maximum column number of motor-potision tables. Overflowed columns are folded in the next row."
				},
				"spec-data.preview.table.headerType": {
					"type": "string",
					"default": "Mnemonic",
					"enum": [
						"Name",
						"Mnemonic",
						"None"
					],
					"description": "Header type of data cells of motor-potision tables."
				}
			}
		}
	},
	"capabilities": {
		"untrustedWorkspaces": {
			"supported": "limited",
			"description": "The preview feature is disabled in untrusted workspaces becauase protection against content injections has not been comprehensively surveyed.",
			"restrictedConfigurations": [
				"spec-data.preview.plot.template"
			]
		}
	},
	"scripts": {
		"vscode:prepublish": "npm run compile && npm run js-yaml",
		"compile": "tsc -p ./",
		"watch": "tsc -watch -p ./",
		"pretest": "npm run compile && npm run lint",
		"lint": "eslint src --ext ts",
		"test": "node ./out/test/runTest.js",
		"js-yaml": "js-yaml ./src/specData.tmLanguage.yaml > ./syntaxes/specData.tmLanguage.json"
	},
	"devDependencies": {
		"@types/glob": "^7.1.3",
		"@types/lodash.merge": "^4.6.6",
		"@types/mocha": "^8.2.2",
		"@types/node": "14.x",
		"@types/vscode": "^1.57.0",
		"@typescript-eslint/eslint-plugin": "^4.26.0",
		"@typescript-eslint/parser": "^4.26.0",
		"eslint": "^7.27.0",
		"glob": "^7.1.7",
		"mocha": "^8.4.0",
		"typescript": "^4.3.2",
		"vscode-test": "^1.5.2"
	},
	"dependencies": {
		"lodash.merge": "^4.6.2",
		"plotly.js-dist-min": "^2.0.0"
	}
}